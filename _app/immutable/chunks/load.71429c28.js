import{w as a}from"./index.8205a471.js";import{E as i,i as f,j as l}from"./pageSpecificMetadataStore.4c0ed160.js";import"./markdown.a855ff41.js";function u(n){const{projects:t,technologies:e,home:o}=n;for(const r of t)r.technologies=r.technologies.map(s=>e[s]);for(const r of e)r.projects=r.projects.map(s=>t[s]);return{home:o,projects:t,technologies:e}}function p(n){const t=JSON.parse(n,(e,o)=>{if(typeof o=="string"){if(o.startsWith("s"))return o.slice(1);if(o.startsWith("u"))return new URL(o.slice(1))}return o});if(!f(t)||!Array.isArray(t.projects))throw new i(`Failed to load content from JSON: invalid format ${n}`);return u(t)}async function w(n){const t=await n("/api/content");if(!t.ok)throw new i(`Failed to load content from API: ${t.status} ${t.statusText}`);const e=await t.text();return p(e)}const h="/";l(h,"content/");let c=null;async function d(n){try{return{contentStore:await y(n)}}catch(t){return console.error(`Error loading site content: ${t}`),{contentError:t}}}async function m(n){return async e=>{const o=await n(e);if(!o.ok){if(o.status===404)return;throw new C(`File ${e}: ${o.status}`)}return await o.text()}}async function y(n){if(c!=null)return c;await m(n);const t=await w(n);return c=a(t),c}class C extends i{}export{d as g};
